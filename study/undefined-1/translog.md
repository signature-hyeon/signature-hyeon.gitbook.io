---
description: 엘라스틱서치 실무 가이드 9.4장
---

# 고가용성을 위한 Translog

샤드에 생기는 모든 변경사항은 Translog 파일에 저장한다. 장애 밸생 시 복구 작업을 수행하기 위해 저장하는 공간으로, 특수한 형태의 로그다.

Translog가 일정 크기가 되면 엘라스틱서치 **Flush 작업이 수행**되는데, 물리적인 디스크에 기록이 완료되면 Translog 기록이 삭제된다.

**이런 경우에 유용하다**

* 루씬 commit이 완료되지 않고 샤드에 장애가 발생한 경우
* 변경사항이 순간적으로 많아져서 루씬 커밋이 긴 시간동안 일어나고, 그동안 많은 데이터 변경 요청이 한꺼번에 샤드로 들어오는 경우
* 샤드 크래시가 발생한 경우

### Translog 크기 관리 정책

**Translog 파일의 크기가 커질수록 장애 발생 시 복구에 걸리는 시간도 늘어나기 때문에** 데이터 크기나 양에 따라 Translog 크기를 관리하는 것이 중요하다. 정책에 의해 적절한 주기로 Flush를 수행하고, Translog 크기를 항상 **일정 크기 이하를 유지할 수 있도록 꾸준히 모니터링**하고 관리하는 것이 매우 필요하다.
